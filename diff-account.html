<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>MSDK Android</title>
    <link href="css/default.css" rel="stylesheet" media="screen">
  </head>
  <body>
    <textarea id="source">

name: inverse
layout: true
class: center, middle, inverse


---

# 异账号相关介绍～

<BR>

------

## MSDK Android 游戏联调支撑交流系列

                — hardyshi

---
layout:false
class:

##1. 异账号介绍

##2. 异账号的处理逻辑

##3. 异账号判断

##4. 常见问题

---

## 异账号介绍

### 何为异账号

- 两个不一样的账号就是异账号

- 有哪些情况：

  - 平台不一样

  - 账号不一样
	
### 游异账号的场景

- 游戏到平台：分享等

- 平台到游戏：各种拉起

---

## 异账号处理逻辑

### 判断异账号

- 游戏被拉起

- MSDK根据拉起账号和本地账号判断异账号情况
  
### 通知异账号

- 通过wakeupNotify通知游戏异账号的结果

### 处理异账号

- 游戏根据flag选择怎么处理异账号

### 处理异账号后的通知

- 通过loginNotify返回游戏异账号的处理结果

---

## 异账号怎么判断之票据

### 本地账号类型

- 无票据

- 票据无效

- 票据有效
  
### 拉起账号类型

- 拉起游戏

- 带openId拉起游戏

- 带票据拉起游戏

---

## 异账号怎么判断之具体逻辑

### 判断原则

|           |拉起带完整票据|拉起不带完整票据|拉起无票据|
|: ------------- :|: ------------- :|: ------------- :|: ------------- :|
|本地票据有效|提示用户异账号|提示用户异账号|通过本地帐号登陆|
|本地票据无效|提示用户异账号|提示用户异账号|游戏回到登录页|
|本地无票据|通过拉起账号登陆|游戏回到登录页|游戏回到登录页|

### 相关flag

|flag| 含义 | 推荐处理方法 |
|: ------------- :|
| eFlag_Succ | 本地账号登陆成功 | 无需特殊处理 |
| eFlag_UrlLogin | 拉起账号快速登陆 | 等待onLoginNotify的回调 |
| eFlag_NeedLogin | 本地、拉起均无效 | 弹出登陆页让用户登陆 |
| eFlag_NeedSelectAccount | 本地、拉起存在异账号 | 弹出对话框让用户选择 |

---

## 异账号怎么判断之具体场景

### 常见的几种登陆

- 授权登陆、自动登陆、快速登陆

### 手Q异账号

- 分享消息体：结构化、大图拉起URL

- 小尾巴：只拉起

- 游戏中心：看配置
  
### 微信异账号

- 消息体：

- 小尾巴：

- 游戏中心：

---

## 常见问题

### 版本支持：

- MSDK从1.8.0开始支持异账号，目前只有手Q可以完成带票据拉起。

---
template: inverse

# Q & A 
---
template: inverse

# 谢谢大家！
    </textarea>
    <script src="js/remark-0.5.3.min.js" type="text/javascript"></script>
    <script type="text/javascript">
      var slideshow = remark.create({
          highlightStyle: 'monokai',
          highlightLanguage: 'remark'
        });
    </script>
    <script type="text/javascript" src="http://tajs.qq.com/stats?sId=37805902" charset="UTF-8"></script>
  </body>
</html>
